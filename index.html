<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Salesforce Form</title>
</head>
<body>

  <div id="lightningLocator"></div>

  <script>
    // Dynamically load Salesforce script
    const sfScript = document.createElement("script");
    sfScript.src = "https://dohertyclinicaltrials.my.salesforce-sites.com/lightning/lightning.out.js";
    sfScript.onload = function () {
      // Once loaded, run the form logic
      const flowName = "SF_Recruitment_Forms";
      if (flowName) {
        $Lightning.use("c:GenericEmbedFlowInExternalWebsitesApp", function () {
          const parameters = "flowName=" + flowName;

          $Lightning.createComponent(
            "c:GenericEmbedFlowInExternalWebsites",
            { parameters: parameters },
            "lightningLocator",
            function (cmp) {}
          );
        },
        "https://dohertyclinicaltrials.my.site.com/externalforms/s/registeryourinterest",
        "authToken");
      }
    };
    document.body.appendChild(sfScript);
  </script>

</body>
</html>
